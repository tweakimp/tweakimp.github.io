
var slider = document.getElementById("myRange");
var output = document.getElementById("demo");
// Display the default slider value
output.innerHTML = slider.value;

// Update the current slider value (each time you drag the slider handle)
var q2 = 0;


function graph(q2) {
    var trace1 = {
        x: [1967.25, 1967.5, 1967.75, 1968.0, 1968.25, 1968.5, 1968.75, 1969.0, 1969.25, 1969.5, 1969.75, 1970.0, 1970.25, 1970.5, 1970.75, 1971.0, 1971.25, 1971.5, 1971.75, 1972.0, 1972.25, 1972.5, 1972.75, 1973.0, 1973.25, 1973.5, 1973.75, 1974.0, 1974.25, 1974.5, 1974.75, 1975.0, 1975.25, 1975.5, 1975.75, 1976.0, 1976.25, 1976.5, 1976.75, 1977.0, 1977.25, 1977.5, 1977.75, 1978.0, 1978.25, 1978.5, 1978.75, 1979.0, 1979.25, 1979.5, 1979.75, 1980.0, 1980.25, 1980.5, 1980.75, 1981.0, 1981.25, 1981.5, 1981.75, 1982.0, 1982.25, 1982.5, 1982.75, 1983.0, 1983.25, 1983.5, 1983.75, 1984.0, 1984.25, 1984.5, 1984.75, 1985.0, 1985.25, 1985.5, 1985.75, 1986.0, 1986.25, 1986.5, 1986.75, 1987.0, 1987.25, 1987.5, 1987.75, 1988.0, 1988.25, 1988.5, 1988.75, 1989.0, 1989.25, 1989.5, 1989.75, 1990.0, 1990.25, 1990.5, 1990.75, 1991.0, 1991.25, 1991.5, 1991.75, 1992.0, 1992.25, 1992.5, 1992.75, 1993.0, 1993.25, 1993.5, 1993.75, 1994.0, 1994.25, 1994.5, 1994.75, 1995.0, 1995.25, 1995.5, 1995.75, 1996.0, 1996.25, 1996.5, 1996.75, 1997.0, 1997.25, 1997.5, 1997.75, 1998.0, 1998.25, 1998.5, 1998.75, 1999.0, 1999.25, 1999.5, 1999.75, 2000.0, 2000.25, 2000.5, 2000.75, 2001.0, 2001.25, 2001.5, 2001.75, 2002.0, 2002.25, 2002.5, 2002.75, 2003.0, 2003.25, 2003.5, 2003.75, 2004.0, 2004.25, 2004.5, 2004.75, 2005.0, 2005.25, 2005.5, 2005.75, 2006.0, 2006.25, 2006.5, 2006.75, 2007.0, 2007.25, 2007.5, 2007.75, 2008.0, 2008.25, 2008.5, 2008.75, 2009.0, 2009.25, 2009.5, 2009.75, 2010.0, 2010.25, 2010.5, 2010.75, 2011.0, 2011.25, 2011.5, 2011.75, 2012.0, 2012.25, 2012.5, 2012.75, 2013.0, 2013.25, 2013.5, 2013.75, 2014.0, 2014.25, 2014.5, 2014.75, 2015.0, 2015.25, 2015.5, 2015.75, 2016.0, 2016.25, 2016.5, 2016.75, 2017.0, 2017.25, 2017.5, 2017.75, 2018.0, 2018.25, 2018.5, 2018.75, 2019.0, 2019.25, 2019.5, 2019.75, 2020.0, 2020.25],
        y: [2.516501624, 3.07660855, 3.1346453239999996, 3.4526729830000003, 3.846441724, 3.965278224, 4.012942383, 3.944146475, 4.097528349, 4.293597042, 4.455138942, 3.351977815, 2.511186511, 2.179649964, 0.952420857, 1.529229322, 1.419030069, 1.005125632, 1.035313526, 0.950711375, 1.163759006, 1.130168799, 1.514232779, 2.821266174, 3.1336429989999997, 3.476193535, 3.353720047, 2.671730198, 2.737581713, 2.159868316, 0.45328398, -2.703792252, -3.6393079339999996, -2.915522091, -2.217656252, -1.634424771, -1.6358609990000001, -2.292211158, -2.497281922, -2.5530702130000003, -1.831123602, -1.418305615, -0.79138886, -0.5891309379999999, 0.37837694, 0.5915351670000001, 0.925494533, 0.795141911, 1.0245188570000001, 1.085173697, 0.946692367, 0.668054399, -1.972053892, -3.1091190969999998, -1.2538202920000001, -0.584643193, -1.182238176, -1.581314834, -2.868432775, -3.845034577, -4.582523194, -5.81840013, -6.732007707, -5.638494614, -5.808607919, -4.938547403, -3.3455084239999997, -2.637920962, -2.1807324919999997, -2.498953993, -2.7247009280000003, -2.38224478, -2.303051637, -2.197195443, -1.892721375, -1.79836879, -2.045166059, -2.015291604, -1.415167899, -0.8102767679999999, -0.362157093, -0.077791115, 0.557506815, 0.17814262, 0.51497216, 0.35029099, 0.787905856, 0.9341198629999999, 0.78301718, 0.418027329, 0.158997311, 0.257426273, 0.29621627300000003, 0.355871535, -0.01908478, -1.5470913469999998, -1.897736034, -1.537401535, -1.315183274, -1.512142263, -1.849265673, -1.760130479, -1.3123686079999999, -0.797511346, -0.611527216, -0.107269951, -0.265682338, -0.87940154, -0.46871935200000003, -0.130518233, 0.143453116, 0.330934655, -0.165037475, -0.34925459600000003, -0.20274557, -0.32973257, -0.027136949, 0.23590598, -0.057066839, -0.031072229, 0.12652545099999998, -0.062231405999999996, 0.281944869, 0.18847808300000002, 0.35848152200000005, 0.518544769, 0.689247155, 0.746552685, 0.753032892, 0.992519557, 1.132934827, 0.969995715, 1.424299992, 1.0968636840000001, 0.9997228690000001, 0.8107796270000001, 0.37505057, 0.11035844800000001, -0.810174422, -1.015596158, -1.1852956890000002, -0.522294265, -0.523072709, -0.257136785, -1.186412209, -1.0283108490000001, -0.42941882600000003, -0.525081322, -0.001966304, 0.09936770699999999, 0.286439673, 0.552944315, 0.8343649459999999, 1.307600646, 1.263312142, 1.72223717, 1.993489003, 1.864361115, 1.503619091, 1.5855689590000002, 1.864822877, 1.857972806, 1.888399402, 1.892588273, 2.138778528, 1.016518182, -0.7298941640000001, -3.2857112410000004, -4.861921663, -4.918244743, -4.4182394689999995, -4.354504434, -3.5990383830000003, -3.25137788, -3.0125189580000002, -2.477073821, -2.596150573, -1.9035658569999998, -1.420868992, -1.25775871, -1.3445603519999998, -1.25359833, -1.351534774, -0.912140501, -0.827894212, -0.284628851, 0.099691503, 0.129229036, 0.7223975709999999, 1.026685429, 1.083506053, 1.176444743, 1.357610746, 1.706293216, 1.703248898, 1.829386696, 1.757786488, 2.0662891130000003, 2.079442298, 2.227109692, 2.355908001, 2.550817446, 2.509131207, 2.646566962, 2.8770047510000003, 3.1377837339999997, 3.112629517, 3.347274857, 3.31482077, 3.5355517310000004, 3.313486017, -6.7, q2],
        type: 'scatter'
    };

    var data = [trace1];


    Plotly.newPlot('graph', data);
}

function table(slider_value) {
    var values = [
        ['Salaries', 'Office', 'Merchandise', 'Legal', '<b>TOTAL</b>'],
        [slider_value, 20000, 80000, 2000, 12120000],
        [1300000, 20000, 70000, 2000, 130902000],
        [1300000, 20000, 120000, 2000, 131222000],
        [1400000, 20000, 90000, 2000, 14102000]]

    var data = [{
        type: 'table',
        header: {
            values: [["<b>EXPENSES</b>"], ["<b>Q1</b>"],
            ["<b>Q2</b>"], ["<b>Q3</b>"], ["<b>Q4</b>"]],
            align: "center",
            line: { width: 1, color: 'black' },
            fill: { color: "grey" },
            font: { family: "Arial", size: 12, color: "white" }
        },
        cells: {
            values: values,
            align: "center",
            line: { color: "black", width: 1 },
            font: { family: "Arial", size: 11, color: ["black"] }
        }
    }]

    Plotly.newPlot('table', data);
}

// init
graph(q2)
table(0)

// update
slider.oninput = function () {
    output.innerHTML = this.value;
    graph(this.value)
    table(this.value)
}


